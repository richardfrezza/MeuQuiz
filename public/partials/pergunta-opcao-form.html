<div class="container">
  <h2>{{vm.titulo}}</h2>
  <div ng-show="perguntaForm.titulo.$error.required && perguntaForm.titulo.$dirty" id="divError" style="margin-bottom: 15px;" class="list-group-item list-group-item-danger">
      <li>O campo 'título' deve ser preenchido !</li>
  </div> 
  <div ng-show="perguntaForm.peso.$error.required && perguntaForm.peso.$dirty" id="divError" style="margin-bottom: 15px;" class="list-group-item list-group-item-danger">
    <li>O campo 'peso' deve ser preenchido !</li>
  </div> 
  <form name="perguntaForm" class="form-horizontal">
    <div class="form-group">
      <label for="titulo" class="col-sm-2 control-label">Título</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" name="titulo" ng-model="vm.pergunta.titulo" id="titulo" ng-required="true">
      </div>
    </div>
    <div class="form-group">
      <label for="peso" class="col-sm-2 control-label">Peso</label>
      <div class="col-sm-2">
        <input type="number" class="form-control" name="peso" ng-model="vm.pergunta.peso" id="peso" ng-required="true">
      </div>
    </div>
    <div class="text-right col-sm-10 col-sm-offset-1">
      <button data-toggle="modal" data-target="#perguntasForm" ng-click="vm.adicionarAlternativa()" type="button" class="btn btn-success">
        <i class="fa fa-plus-square-o" aria-hidden="true"></i>
        <span>Nova Alternativa</span>
      </button>
    </div>
    <div class="table-responsive col-sm-10 col-sm-offset-1">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Descrição</th>
            <th>Peso</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="opcao in vm.pergunta.opcoes">
            <td>{{opcao.descricao}}</td>
            <td>{{opcao.peso}}</td>
            <td class="text-right">
              <button data-toggle="modal" data-target="#perguntasForm" type="button" class="btn btn-link" ng-click="vm.editarAlternativa(opcao)">
                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
              </button>
              <button type="button" class="btn btn-link" ng-click="vm.removerAlternativa(opcao)">
                <i class="fa fa-trash-o" aria-hidden="true"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="text-right col-sm-10 col-sm-offset-1">
      <a ng-href="{{'#/' + vm.questionario + '/perguntas/'}}" class="btn btn-danger">Cancelar</a>
      <button ng-click="vm.salvar()" type="button"  ng-disabled="perguntaForm.$invalid" class="btn btn-success">Salvar</button>
    </div>
  </form>
  <div id="perguntasForm" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">{{vm.modalTitulo}}</h4>
        </div>
        <div class="modal-body">
          <div ng-show="opcaoForm.descricao.$error.required && opcaoForm.descricao.$dirty" id="divError" style="margin-bottom: 15px;" class="list-group-item list-group-item-danger">
              <li>O campo 'descrição' deve ser preenchido !</li>
          </div> 
          <div ng-show="opcaoForm.peso.$error.required && opcaoForm.peso.$dirty" id="divError" style="margin-bottom: 15px;" class="list-group-item list-group-item-danger">
              <li>O campo 'peso' deve ser preenchido !</li>
          </div>
          <form name="opcaoForm" class="form-horizontal">
            <div class="form-group">
              <label for="descricao" class="col-sm-2 control-label">Descrição</label>
              <div class="col-sm-10">
                <input type="text" class="form-control text-left" name="descricao" ng-model="vm.opcao.descricao" id="descricao" ng-required="true">
              </div>
            </div>
            <div class="form-group">
              <label for="peso" class="col-sm-2 control-label">Peso</label>
              <div class="col-sm-2">
                <input type="number" name="peso" class="form-control"  ng-model="vm.opcao.peso" id="peso" ng-required="true">
              </div>
            </div>

          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
          <button type="button" ng-click="vm.salvarAlternativa()" ng-disabled="opcaoForm.$invalid" class="btn btn-success" data-dismiss="modal">Adicionar</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
  <!-- /.modal -->
</div>
<!-- /.container -->